<?php

use PHPUnit\Framework\TestCase;

//some reading for organizing and annotating tests
//https://stackoverflow.com/questions/8313283/phpunit-best-practices-to-organize-tests
//https://jtreminio.com/2013/03/unit-testing-tutorial-introduction-to-phpunit/

final class tripal_curator_test extends TestCase
{
  public function testTrueIsTrue()
  {
    $foo = true;
    $this->assertTrue($foo);

  }

  public function test_property_tables_returns_prop_tables_only(){
    $tables = tripal_curator_get_property_tables();
    $this->assertNotEmpty($tables);

    $this->assertContains('biomaterialprop', $tables);
    $this->assertNotContains('featureprop_pub', $tables);

  }

  public function test_stringreplace_finds_basetable_from_proptable(){
    $string="biomaterialprop";
    $expected = "biomaterial";
    $new_string = tripal_curator_str_lreplace("prop", "", $string);

    $this->assertEquals($expected, $new_string);

  }

  public function test_fetch_props_for_prop_table_finds_properties_if_prop_table(){
    $table = "cvtermprop";
    $props = tripal_curator_fetch_props_for_prop_table($table);
    $this->assertNotEmpty($props);
    $table = "assay";
    $props = tripal_curator_fetch_props_for_prop_table($table);
    $this->assertNull($props);
  }



  public function test_property_count_list_returns_cvs(){
    $list = tripal_curator_get_cv_usage();
    $this->assertNotEmpty($list);
  }


}