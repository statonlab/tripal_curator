<?php

require_once '../includes/tripal_curator.api.inc';
use PHPUnit\Framework\TestCase;
use PHPUnit\DbUnit\TestCaseTrait;
//Change this path for the docker!
//define('DRUPAL_ROOT', '/var/www/html');
//define('DRUPAL_ROOT', '/Users/chet/UTK/tripal');

$start = getcwd();

chdir(DRUPAL_ROOT);

require_once DRUPAL_ROOT . '/includes/bootstrap.inc';
$_SERVER['REMOTE_ADDR'] = '127.0.0.1';

drupal_bootstrap(DRUPAL_BOOTSTRAP_FULL);

chdir($start);

final class tripal_curator_test extends TestCase
{
  public function testTrueIsTrue()
  {
    $foo = true;
    $this->assertTrue($foo);

  }

  public function test_property_tables_returned(){
    $tables = tripal_curator_get_property_tables();
    $this->assertNotEmpty($tables);
  }

  public function test_tripal_curator_fetch_props_for_prop_table(){
    $table = "biomaterialprop";

    $props = tripal_curator_fetch_props_for_prop_table($table);
    $this->assertNotEmpty($props);
    $table = "assay";
    $props = tripal_curator_fetch_props_for_prop_table($table);
    $this->assertNull($props);

  }

}